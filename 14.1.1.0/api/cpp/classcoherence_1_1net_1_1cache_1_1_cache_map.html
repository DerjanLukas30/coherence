<!--
  Copyright (c) 2000, 2020, Oracle and/or its affiliates.

  Licensed under the Universal Permissive License v 1.0 as shown at
  http://oss.oracle.com/licenses/upl.
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>C++ API Reference for Oracle&amp;reg; Coherence Community Edition: CacheMap Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<b>C++ API Reference for Oracle&reg; Coherence Community Edition<br>(14.1.1.0.1)</b><br>F23533-01
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li class="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="namespacecoherence.html">coherence</a>::<a class="el" href="namespacecoherence_1_1net.html">net</a>::<a class="el" href="namespacecoherence_1_1net_1_1cache.html">cache</a>::<a class="el" href="classcoherence_1_1net_1_1cache_1_1_cache_map.html">CacheMap</a></div>
<h1>CacheMap Class Reference</h1><!-- doxytag: class="coherence::net::cache::CacheMap" --><!-- doxytag: inherits="coherence::util::Map" --><code>#include &lt;<a class="el" href="_cache_map_8hpp-source.html">coherence/net/cache/CacheMap.hpp</a>&gt;</code>
<p>
Inherits <a class="el" href="classcoherence_1_1util_1_1_map.html">Map</a>.
<p>
Inherited by <a class="el" href="classcoherence_1_1net_1_1cache_1_1_local_cache.html">LocalCache</a><code> [virtual]</code>, <a class="el" href="classcoherence_1_1net_1_1cache_1_1_old_cache.html">OldCache</a><code> [virtual]</code>, <a class="el" href="classcoherence_1_1net_1_1_named_cache.html">NamedCache</a><code> [virtual]</code>, and <a class="el" href="classcoherence_1_1util_1_1_converter_collections_1_1_converter_cache_map.html">ConverterCollections::ConverterCacheMap</a><code> [virtual]</code>.
<p>

<p>
<a href="classcoherence_1_1net_1_1cache_1_1_cache_map-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
A <a class="el" href="classcoherence_1_1net_1_1cache_1_1_cache_map.html" title="A CacheMap is a coherence::util::Map that supports caching.">CacheMap</a> is a <a class="el" href="classcoherence_1_1util_1_1_map.html" title="An interface for associating key value pairs.">coherence::util::Map</a> that supports caching. 
<p>
CacheMaps maintain immutable copies of the cached entries. Thus any non-immutable item supplied to the <a class="el" href="namespacecoherence_1_1net_1_1cache.html" title="Contains classes and interface that provide various caching functionality.">cache</a> will be cloned. All results from the <a class="el" href="namespacecoherence_1_1net_1_1cache.html" title="Contains classes and interface that provide various caching functionality.">cache</a> will be accessable only via Views.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>mf 2007.11.07 </dd></dl>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5b310f5b3b4a79c7cde67e22f5bfd543"></a><!-- doxytag: member="coherence::net::cache::CacheMap::Handle" ref="5b310f5b3b4a79c7cde67e22f5bfd543" args="" -->
typedef spec::Handle&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1net_1_1cache_1_1_cache_map.html#5b310f5b3b4a79c7cde67e22f5bfd543">Handle</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classcoherence_1_1net_1_1cache_1_1_cache_map.html" title="A CacheMap is a coherence::util::Map that supports caching.">CacheMap</a> Handle definition. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9dff753690c2fde7f2096982681b2fe3"></a><!-- doxytag: member="coherence::net::cache::CacheMap::View" ref="9dff753690c2fde7f2096982681b2fe3" args="" -->
typedef spec::View&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1net_1_1cache_1_1_cache_map.html#9dff753690c2fde7f2096982681b2fe3">View</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classcoherence_1_1net_1_1cache_1_1_cache_map.html" title="A CacheMap is a coherence::util::Map that supports caching.">CacheMap</a> View definition. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f6b6cf6ce7af189584f0d92db3187844"></a><!-- doxytag: member="coherence::net::cache::CacheMap::Holder" ref="f6b6cf6ce7af189584f0d92db3187844" args="" -->
typedef spec::Holder&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1net_1_1cache_1_1_cache_map.html#f6b6cf6ce7af189584f0d92db3187844">Holder</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classcoherence_1_1net_1_1cache_1_1_cache_map.html" title="A CacheMap is a coherence::util::Map that supports caching.">CacheMap</a> Holder definition. <br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classcoherence_1_1util_1_1_map.html#9dff753690c2fde7f2096982681b2fe3">Map::View</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1net_1_1cache_1_1_cache_map.html#ea0df90d9fe3acce3bcc60146b20faf7">getAll</a> (<a class="el" href="classcoherence_1_1util_1_1_collection.html#9dff753690c2fde7f2096982681b2fe3">Collection::View</a> vKeys) const =0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get all the specified keys, if they are in the cache.  <a href="#ea0df90d9fe3acce3bcc60146b20faf7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classcoherence_1_1lang_1_1_object.html#f6b6cf6ce7af189584f0d92db3187844">Object::Holder</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1net_1_1cache_1_1_cache_map.html#9987e4a6988508dd21b91ca86e2f572d">put</a> (<a class="el" href="classcoherence_1_1lang_1_1_object.html#9dff753690c2fde7f2096982681b2fe3">Object::View</a> vKey, <a class="el" href="classcoherence_1_1lang_1_1_object.html#f6b6cf6ce7af189584f0d92db3187844">Object::Holder</a> ohValue, int64_t cMillis)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Associates the specified value with the specified key in this <a class="el" href="namespacecoherence_1_1net_1_1cache.html" title="Contains classes and interface that provide various caching functionality.">cache</a>.  <a href="#9987e4a6988508dd21b91ca86e2f572d"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="cd14a825f71b70acadb858ee42b93a09"></a><!-- doxytag: member="coherence::net::cache::CacheMap::expiry_default" ref="cd14a825f71b70acadb858ee42b93a09" args="" -->
static const int64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1net_1_1cache_1_1_cache_map.html#cd14a825f71b70acadb858ee42b93a09">expiry_default</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A special time-to-live value that can be passed to the extended put(<a class="el" href="classcoherence_1_1lang_1_1_object.html#5b310f5b3b4a79c7cde67e22f5bfd543" title="Object Handle definition.">Object::Handle</a>, <a class="el" href="classcoherence_1_1lang_1_1_object.html#5b310f5b3b4a79c7cde67e22f5bfd543" title="Object Handle definition.">Object::Handle</a>, int64_t) method to indicate that the cache's default expiry should be used. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5b15ae251065112b68dc15504d627204"></a><!-- doxytag: member="coherence::net::cache::CacheMap::expiry_never" ref="5b15ae251065112b68dc15504d627204" args="" -->
static const int64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1net_1_1cache_1_1_cache_map.html#5b15ae251065112b68dc15504d627204">expiry_never</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A special time-to-live value that can be passed to the extended put(<a class="el" href="classcoherence_1_1lang_1_1_object.html#5b310f5b3b4a79c7cde67e22f5bfd543" title="Object Handle definition.">Object::Handle</a>, <a class="el" href="classcoherence_1_1lang_1_1_object.html#5b310f5b3b4a79c7cde67e22f5bfd543" title="Object Handle definition.">Object::Handle</a>, int64_t) method to indicate that the cache entry should never expire. <br></td></tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="ea0df90d9fe3acce3bcc60146b20faf7"></a><!-- doxytag: member="coherence::net::cache::CacheMap::getAll" ref="ea0df90d9fe3acce3bcc60146b20faf7" args="(Collection::View vKeys) const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcoherence_1_1util_1_1_map.html#9dff753690c2fde7f2096982681b2fe3">Map::View</a> getAll           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcoherence_1_1util_1_1_collection.html#9dff753690c2fde7f2096982681b2fe3">Collection::View</a>&nbsp;</td>
          <td class="paramname"> <em>vKeys</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get all the specified keys, if they are in the cache. 
<p>
For each key that is in the cache, that key and its corresponding value will be placed in the map that is returned by this method. The absence of a key in the returned map indicates that it was not in the cache, which may imply (for caches that can load behind the scenes) that the requested data could not be loaded.<p>
The result of this method is defined to be semantically the same as the following implementation, without regards to threading issues: <div class="fragment"><pre class="fragment"> <span class="comment">// could be a HashMap (but does not have to)</span>
 <a class="code" href="classcoherence_1_1util_1_1_map.html#5b310f5b3b4a79c7cde67e22f5bfd543" title="Map Handle definition.">Map::Handle</a> hMap = SomeMap::create();

 <span class="keywordflow">for</span> (<a class="code" href="classcoherence_1_1util_1_1_iterator.html#5b310f5b3b4a79c7cde67e22f5bfd543" title="Iterator Handle definition.">Iterator::Handle</a> iter = colKeys-&gt;iterator(); iter-&gt;hasNext();)
     {
     <a class="code" href="classcoherence_1_1lang_1_1_object.html#9dff753690c2fde7f2096982681b2fe3" title="Object View definition.">Object::View</a> hKey = iter-&gt;next();
     <a class="code" href="classcoherence_1_1lang_1_1_object.html#9dff753690c2fde7f2096982681b2fe3" title="Object View definition.">Object::View</a> hVal = <span class="keyword">get</span>(hKey);
     <span class="keywordflow">if</span> (hVal || <a class="code" href="classcoherence_1_1util_1_1_map.html#2cbeab36ed9fab15cd15cf7257ef68e4" title="Return true if this map contains a mapping for the specified key.">containsKey</a>(hKey))
         {
         hMap-&gt;put(hKey, hVal);
         }
     }
 <span class="keywordflow">return</span> hMap;
</pre></div><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vKeys</em>&nbsp;</td><td>a collection of keys that may be in the named cache</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a <a class="el" href="classcoherence_1_1util_1_1_map.html" title="An interface for associating key value pairs.">coherence::util::Map</a> of keys to values for the specified keys passed in <em>vKeys</em> </dd></dl>

<p>Implemented in <a class="el" href="classcoherence_1_1net_1_1cache_1_1_continuous_query_cache.html#ea0b634ac04d027cb2300e22c8473422">ContinuousQueryCache</a>, <a class="el" href="classcoherence_1_1net_1_1cache_1_1_local_cache.html#b59a809ec4495f7db89d6cd1d52a9230">LocalCache</a>, <a class="el" href="classcoherence_1_1net_1_1cache_1_1_near_cache.html#b59a809ec4495f7db89d6cd1d52a9230">NearCache</a>, <a class="el" href="classcoherence_1_1net_1_1cache_1_1_old_cache.html#b59a809ec4495f7db89d6cd1d52a9230">OldCache</a>, and <a class="el" href="classcoherence_1_1net_1_1cache_1_1_wrapper_named_cache.html#ea0b634ac04d027cb2300e22c8473422">WrapperNamedCache</a>.</p>

</div>
</div><p>
<a class="anchor" name="9987e4a6988508dd21b91ca86e2f572d"></a><!-- doxytag: member="coherence::net::cache::CacheMap::put" ref="9987e4a6988508dd21b91ca86e2f572d" args="(Object::View vKey, Object::Holder ohValue, int64_t cMillis)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcoherence_1_1lang_1_1_object.html#f6b6cf6ce7af189584f0d92db3187844">Object::Holder</a> put           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcoherence_1_1lang_1_1_object.html#9dff753690c2fde7f2096982681b2fe3">Object::View</a>&nbsp;</td>
          <td class="paramname"> <em>vKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcoherence_1_1lang_1_1_object.html#f6b6cf6ce7af189584f0d92db3187844">Object::Holder</a>&nbsp;</td>
          <td class="paramname"> <em>ohValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&nbsp;</td>
          <td class="paramname"> <em>cMillis</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Associates the specified value with the specified key in this <a class="el" href="namespacecoherence_1_1net_1_1cache.html" title="Contains classes and interface that provide various caching functionality.">cache</a>. 
<p>
If the <a class="el" href="namespacecoherence_1_1net_1_1cache.html" title="Contains classes and interface that provide various caching functionality.">cache</a> previously contained a mapping for this key, the old value is replaced. This variation of the put(Object::View, Object::View) method allows the caller to specify an expiry (or "time to live") for the cache entry.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vKey</em>&nbsp;</td><td>key with which the specified value is to be associated </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ohValue</em>&nbsp;</td><td>value to be associated with the specified key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cMillis</em>&nbsp;</td><td>the number of milliseconds until the cache entry will expire, also referred to as the entry's "time to live"; pass <a class="el" href="classcoherence_1_1net_1_1cache_1_1_cache_map.html#cd14a825f71b70acadb858ee42b93a09" title="A special time-to-live value that can be passed to the extended put(Object::Handle...">expiry_default</a> to use the cache's default time-to-live setting; pass <a class="el" href="classcoherence_1_1net_1_1cache_1_1_cache_map.html#5b15ae251065112b68dc15504d627204" title="A special time-to-live value that can be passed to the extended put(Object::Handle...">expiry_never</a> to indicate that the cache entry should never expire; this milliseconds value is <b>not</b> a date/time value</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>previous value associated with specified key, or empty handle if there was no mapping for key. An empty handle return can also indicate that the map previously associated NULL with the specified key, if the implementation supports NULL values</dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classcoherence_1_1lang_1_1_unsupported_operation_exception.html" title="Thrown to indicate that the requested operation is not supported.">coherence::lang::UnsupportedOperationException</a></em>&nbsp;</td><td>if the requested expiry is a positive value and the implementation does not support expiry of cache entries </td></tr>
  </table>
</dl>

<p>Implemented in <a class="el" href="classcoherence_1_1net_1_1cache_1_1_continuous_query_cache.html#15d06f6d3839c40607da3783992d58b3">ContinuousQueryCache</a>, <a class="el" href="classcoherence_1_1net_1_1cache_1_1_near_cache.html#15d06f6d3839c40607da3783992d58b3">NearCache</a>, <a class="el" href="classcoherence_1_1net_1_1cache_1_1_old_cache.html#15d06f6d3839c40607da3783992d58b3">OldCache</a>, <a class="el" href="classcoherence_1_1net_1_1cache_1_1_wrapper_named_cache.html#15d06f6d3839c40607da3783992d58b3">WrapperNamedCache</a>, and <a class="el" href="classcoherence_1_1util_1_1_converter_collections_1_1_converter_cache_map.html#15d06f6d3839c40607da3783992d58b3">ConverterCollections::ConverterCacheMap</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>coherence/net/cache/<a class="el" href="_cache_map_8hpp-source.html">CacheMap.hpp</a></ul>
<center>
  Copyright &copy; 2000, 2020, Oracle and/or its affiliates.
  Licensed under the Universal Permissive License v 1.0 as shown at
  http://oss.oracle.com/licenses/upl.
</center>
</BODY>
</HTML>
