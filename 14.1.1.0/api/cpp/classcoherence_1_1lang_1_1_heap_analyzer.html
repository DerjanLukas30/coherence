<!--
  Copyright (c) 2000, 2020, Oracle and/or its affiliates.

  Licensed under the Universal Permissive License v 1.0 as shown at
  http://oss.oracle.com/licenses/upl.
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>C++ API Reference for Oracle&amp;reg; Coherence Community Edition: HeapAnalyzer Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<b>C++ API Reference for Oracle&reg; Coherence Community Edition<br>(14.1.1.0.1)</b><br>F23533-01
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li class="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="namespacecoherence.html">coherence</a>::<a class="el" href="namespacecoherence_1_1lang.html">lang</a>::<a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html">HeapAnalyzer</a></div>
<h1>HeapAnalyzer Class Reference</h1><!-- doxytag: class="coherence::lang::HeapAnalyzer" --><!-- doxytag: inherits="coherence::lang::Object" --><code>#include &lt;<a class="el" href="_heap_analyzer_8hpp-source.html">coherence/lang/HeapAnalyzer.hpp</a>&gt;</code>
<p>
Inherits <a class="el" href="classcoherence_1_1lang_1_1_object.html">Object</a>.
<p>
Inherited by <a class="el" href="classcoherence_1_1lang_1_1_abstract_heap_analyzer.html">AbstractHeapAnalyzer</a><code> [virtual]</code>, and <a class="el" href="classcoherence_1_1lang_1_1_object_count_heap_analyzer.html">ObjectCountHeapAnalyzer</a><code> [virtual]</code>.
<p>

<p>
<a href="classcoherence_1_1lang_1_1_heap_analyzer-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html" title="HeapAnalyzer provides a base diagnostics interface for tracking heap usage.">HeapAnalyzer</a> provides a base diagnostics interface for tracking heap usage. 
<p>
There is at most one <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html" title="HeapAnalyzer provides a base diagnostics interface for tracking heap usage.">HeapAnalyzer</a> registered with the system for the lifetime of the process. The <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html" title="HeapAnalyzer provides a base diagnostics interface for tracking heap usage.">HeapAnalyzer</a> implementation may be specified via the "coherence.heap.analyzer" system property. The property can be set to one of the following values: <ul>
<li>
none No heap analysis will be performed. </li>
<li>
object The <a class="el" href="classcoherence_1_1lang_1_1_object_count_heap_analyzer.html" title="ObjectCountHeapAnalyzer provides simple heap analysis based solely on the count of...">coherence::lang::ObjectCountHeapAnalyzer</a> will be used. </li>
<li>
class The <a class="el" href="classcoherence_1_1lang_1_1_class_based_heap_analyzer.html" title="ClassBasedHeapAnalyzer provides heap analysis at the class level, that is it tracks...">coherence::lang::ClassBasedHeapAnalyzer</a> will be used. </li>
<li>
alloc The <a class="el" href="classcoherence_1_1lang_1_1_class_based_heap_analyzer.html" title="ClassBasedHeapAnalyzer provides heap analysis at the class level, that is it tracks...">coherence::lang::ClassBasedHeapAnalyzer</a> will be used, in allocation analysis mode. </li>
<li>
[custom] The name of a class registered with the <a class="el" href="classcoherence_1_1lang_1_1_system_class_loader.html" title="SystemClassLoader is a ClassLoader implementation based on registration only.">SystemClassLoader</a>. </li>
</ul>
<p>
In the case where a custom class is specified, it must implement this interface. The custom analyzer will be initialized as soon as the class is registered with the <a class="el" href="classcoherence_1_1lang_1_1_system_class_loader.html" title="SystemClassLoader is a ClassLoader implementation based on registration only.">SystemClassLoader</a>. As static initialization order cannot be guaranteed, this custom analyzer will not be notified of managed objects created earlier in the static initialization order.<p>
The active analyzer may be obtained from the <a class="el" href="classcoherence_1_1lang_1_1_system.html#1d2b41d25b3cbd2e814a265e7832433f" title="Return the System HeapAnalyzer.">System::getHeapAnalyzer()</a> method.<p>
The <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html" title="HeapAnalyzer provides a base diagnostics interface for tracking heap usage.">HeapAnalyzer</a> and <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html" title="Snapshot provides a abstract mechanism for comparing successive heap analysis points...">Snapshot</a> interfaces are intentionally narrow. Implementations are expected to provide useful information via the toString method, as well as by possibly augmenting the interfaces. The minimal interface is sufficient for detecting memory leaks.<p>
<a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html#9dff753690c2fde7f2096982681b2fe3" title="Snapshot View definition.">HeapAnalyzer::Snapshot::View</a> vSnap = hAnalyzer-&gt;<a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html#b61bdc1d2f058f44498b21ddef628b17" title="Capture a Snapshot of the current state of the heap.">capture()</a>; ... ... std::cout &lt;&lt; "Heap changed by: " &lt;&lt; hAnalyzer-&gt;delta(vSnap) &lt;&lt; std::endl;<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classcoherence_1_1lang_1_1_object_count_heap_analyzer.html" title="ObjectCountHeapAnalyzer provides simple heap analysis based solely on the count of...">ObjectCountHeapAnalyzer</a> <p>
<a class="el" href="classcoherence_1_1lang_1_1_class_based_heap_analyzer.html" title="ClassBasedHeapAnalyzer provides heap analysis at the class level, that is it tracks...">ClassBasedHeapAnalyzer</a></dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>mf 2008.04.27 </dd></dl>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5b310f5b3b4a79c7cde67e22f5bfd543"></a><!-- doxytag: member="coherence::lang::HeapAnalyzer::Handle" ref="5b310f5b3b4a79c7cde67e22f5bfd543" args="" -->
typedef spec::Handle&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html#5b310f5b3b4a79c7cde67e22f5bfd543">Handle</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html" title="HeapAnalyzer provides a base diagnostics interface for tracking heap usage.">HeapAnalyzer</a> Handle definition. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9dff753690c2fde7f2096982681b2fe3"></a><!-- doxytag: member="coherence::lang::HeapAnalyzer::View" ref="9dff753690c2fde7f2096982681b2fe3" args="" -->
typedef spec::View&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html#9dff753690c2fde7f2096982681b2fe3">View</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html" title="HeapAnalyzer provides a base diagnostics interface for tracking heap usage.">HeapAnalyzer</a> View definition. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f6b6cf6ce7af189584f0d92db3187844"></a><!-- doxytag: member="coherence::lang::HeapAnalyzer::Holder" ref="f6b6cf6ce7af189584f0d92db3187844" args="" -->
typedef spec::Holder&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html#f6b6cf6ce7af189584f0d92db3187844">Holder</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html" title="HeapAnalyzer provides a base diagnostics interface for tracking heap usage.">HeapAnalyzer</a> Holder definition. <br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html#9dff753690c2fde7f2096982681b2fe3">Snapshot::View</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html#b61bdc1d2f058f44498b21ddef628b17">capture</a> () const =0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Capture a <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html" title="Snapshot provides a abstract mechanism for comparing successive heap analysis points...">Snapshot</a> of the current state of the heap.  <a href="#b61bdc1d2f058f44498b21ddef628b17"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html#9dff753690c2fde7f2096982681b2fe3">Snapshot::View</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html#40f346f740a1d04a7347980db1beb23d">delta</a> (<a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html#9dff753690c2fde7f2096982681b2fe3">Snapshot::View</a> vThat) const =0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute the delta between the supplied <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html" title="Snapshot provides a abstract mechanism for comparing successive heap analysis points...">Snapshot</a> and the current heap state.  <a href="#40f346f740a1d04a7347980db1beb23d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html#de2fd1ead2e75874303533e4045ae401">getObjectCount</a> () const =0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the number of registered objects.  <a href="#de2fd1ead2e75874303533e4045ae401"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html#704fab2497f02198858f88ec279d6482">getImmortalCount</a> () const =0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the number of objects which have been marked as uncollectable.  <a href="#704fab2497f02198858f88ec279d6482"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html#9dff753690c2fde7f2096982681b2fe3">Snapshot::View</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html#73ec51ba1ff821c68f6b7ada46d2728f">ensureHeap</a> (<a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html#9dff753690c2fde7f2096982681b2fe3">Snapshot::View</a> vSnap=NULL, int64_t cDelta=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Ensure that the delta between the current heap and the supplied snapshot is as expected.  <a href="#73ec51ba1ff821c68f6b7ada46d2728f"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html#5c36c1dfe04d6325e1a9611eabcb1dcd">registerObject</a> (const <a class="el" href="classcoherence_1_1lang_1_1_object.html">Object</a> &amp;o)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register a newly created <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a> with the system.  <a href="#5c36c1dfe04d6325e1a9611eabcb1dcd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html#d4139a3aef852e72656685a4654dd429">unregisterObject</a> (const <a class="el" href="classcoherence_1_1lang_1_1_object.html">Object</a> &amp;o)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unregister an <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a> with the system.  <a href="#d4139a3aef852e72656685a4654dd429"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer.html#796812f8a455ebd84968b64ecca28f62">registerImmortal</a> (const <a class="el" href="classcoherence_1_1lang_1_1_object.html">Object</a> &amp;o)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Invoked when an object is deemed to immortal and can never be collected.  <a href="#796812f8a455ebd84968b64ecca28f62"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_block.html">Block</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_block.html" title="The HeapAnalyzer::Block allows for easily verifying that a block of code does not...">HeapAnalyzer::Block</a> allows for easily verifying that a block of code does not leak memory.  <a href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_block.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html">Snapshot</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html" title="Snapshot provides a abstract mechanism for comparing successive heap analysis points...">Snapshot</a> provides a abstract mechanism for comparing successive heap analysis points.  <a href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html#_details">More...</a><br></td></tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b61bdc1d2f058f44498b21ddef628b17"></a><!-- doxytag: member="coherence::lang::HeapAnalyzer::capture" ref="b61bdc1d2f058f44498b21ddef628b17" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html#9dff753690c2fde7f2096982681b2fe3">Snapshot::View</a> capture           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Capture a <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html" title="Snapshot provides a abstract mechanism for comparing successive heap analysis points...">Snapshot</a> of the current state of the heap. 
<p>
Note, when performing captures in a loop, and assigning the captured snapshot to a handle referencing a snapshot, it is advisable to NULL out the handle first, so as to avoid the new snapshot including the "cost" of snapshot it is about to replace.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html" title="Snapshot provides a abstract mechanism for comparing successive heap analysis points...">Snapshot</a> of the current state of the heap. </dd></dl>

<p>Implemented in <a class="el" href="classcoherence_1_1lang_1_1_class_based_heap_analyzer.html#cfc82053b5d10ed074fefee9f8f26e1b">ClassBasedHeapAnalyzer</a>, and <a class="el" href="classcoherence_1_1lang_1_1_object_count_heap_analyzer.html#cfc82053b5d10ed074fefee9f8f26e1b">ObjectCountHeapAnalyzer</a>.</p>

</div>
</div><p>
<a class="anchor" name="40f346f740a1d04a7347980db1beb23d"></a><!-- doxytag: member="coherence::lang::HeapAnalyzer::delta" ref="40f346f740a1d04a7347980db1beb23d" args="(Snapshot::View vThat) const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html#9dff753690c2fde7f2096982681b2fe3">Snapshot::View</a> delta           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html#9dff753690c2fde7f2096982681b2fe3">Snapshot::View</a>&nbsp;</td>
          <td class="paramname"> <em>vThat</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compute the delta between the supplied <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html" title="Snapshot provides a abstract mechanism for comparing successive heap analysis points...">Snapshot</a> and the current heap state. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vThat</em>&nbsp;</td><td>the snapshot to compare against.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a snapshot containing the delta </dd></dl>

<p>Implemented in <a class="el" href="classcoherence_1_1lang_1_1_class_based_heap_analyzer.html#08c5ab30603e07adc883f161b81d3997">ClassBasedHeapAnalyzer</a>, and <a class="el" href="classcoherence_1_1lang_1_1_object_count_heap_analyzer.html#08c5ab30603e07adc883f161b81d3997">ObjectCountHeapAnalyzer</a>.</p>

</div>
</div><p>
<a class="anchor" name="de2fd1ead2e75874303533e4045ae401"></a><!-- doxytag: member="coherence::lang::HeapAnalyzer::getObjectCount" ref="de2fd1ead2e75874303533e4045ae401" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t getObjectCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the number of registered objects. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the number of registered objects </dd></dl>

<p>Implemented in <a class="el" href="classcoherence_1_1lang_1_1_class_based_heap_analyzer.html#8120449c2ac262b76fc99abbe8e1b248">ClassBasedHeapAnalyzer</a>, and <a class="el" href="classcoherence_1_1lang_1_1_object_count_heap_analyzer.html#8120449c2ac262b76fc99abbe8e1b248">ObjectCountHeapAnalyzer</a>.</p>

</div>
</div><p>
<a class="anchor" name="704fab2497f02198858f88ec279d6482"></a><!-- doxytag: member="coherence::lang::HeapAnalyzer::getImmortalCount" ref="704fab2497f02198858f88ec279d6482" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t getImmortalCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the number of objects which have been marked as uncollectable. 
<p>
Return the number of objects which have been marked as uncollectable. 
<p>Implemented in <a class="el" href="classcoherence_1_1lang_1_1_class_based_heap_analyzer.html#c320973849982cc8c57b4d790d0335f1">ClassBasedHeapAnalyzer</a>, and <a class="el" href="classcoherence_1_1lang_1_1_object_count_heap_analyzer.html#c320973849982cc8c57b4d790d0335f1">ObjectCountHeapAnalyzer</a>.</p>

</div>
</div><p>
<a class="anchor" name="5c36c1dfe04d6325e1a9611eabcb1dcd"></a><!-- doxytag: member="coherence::lang::HeapAnalyzer::registerObject" ref="5c36c1dfe04d6325e1a9611eabcb1dcd" args="(const Object &amp;o)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void registerObject           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcoherence_1_1lang_1_1_object.html">Object</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>o</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Register a newly created <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a> with the system. 
<p>
This method is called automatically by <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">coherence::lang::Object</a> once the <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a> has finished construction.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>o</em>&nbsp;</td><td>the newly created <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a>. </td></tr>
  </table>
</dl>

<p>Implemented in <a class="el" href="classcoherence_1_1lang_1_1_abstract_heap_analyzer.html#e9d19ed69d14b44e4046d9c2cd3ffc7e">AbstractHeapAnalyzer</a>, <a class="el" href="classcoherence_1_1lang_1_1_class_based_heap_analyzer.html#e9d19ed69d14b44e4046d9c2cd3ffc7e">ClassBasedHeapAnalyzer</a>, and <a class="el" href="classcoherence_1_1lang_1_1_object_count_heap_analyzer.html#e9d19ed69d14b44e4046d9c2cd3ffc7e">ObjectCountHeapAnalyzer</a>.</p>

</div>
</div><p>
<a class="anchor" name="d4139a3aef852e72656685a4654dd429"></a><!-- doxytag: member="coherence::lang::HeapAnalyzer::unregisterObject" ref="d4139a3aef852e72656685a4654dd429" args="(const Object &amp;o)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void unregisterObject           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcoherence_1_1lang_1_1_object.html">Object</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>o</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unregister an <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a> with the system. 
<p>
This method is called automatically by <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">coherence::lang::Object</a> just prior to the deletion of the <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a>. No new handles or views may be created to the object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>o</em>&nbsp;</td><td>the <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a> to unregister </td></tr>
  </table>
</dl>

<p>Implemented in <a class="el" href="classcoherence_1_1lang_1_1_abstract_heap_analyzer.html#1ee65239ff773394464c4a034a09f50c">AbstractHeapAnalyzer</a>, <a class="el" href="classcoherence_1_1lang_1_1_class_based_heap_analyzer.html#1ee65239ff773394464c4a034a09f50c">ClassBasedHeapAnalyzer</a>, and <a class="el" href="classcoherence_1_1lang_1_1_object_count_heap_analyzer.html#1ee65239ff773394464c4a034a09f50c">ObjectCountHeapAnalyzer</a>.</p>

</div>
</div><p>
<a class="anchor" name="796812f8a455ebd84968b64ecca28f62"></a><!-- doxytag: member="coherence::lang::HeapAnalyzer::registerImmortal" ref="796812f8a455ebd84968b64ecca28f62" args="(const Object &amp;o)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void registerImmortal           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcoherence_1_1lang_1_1_object.html">Object</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>o</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Invoked when an object is deemed to immortal and can never be collected. 
<p>
Note the specified object will have already been registered via registerObject. 
<p>Implemented in <a class="el" href="classcoherence_1_1lang_1_1_class_based_heap_analyzer.html#00649053fef046b313a1b8c10bd45cf0">ClassBasedHeapAnalyzer</a>, and <a class="el" href="classcoherence_1_1lang_1_1_object_count_heap_analyzer.html#00649053fef046b313a1b8c10bd45cf0">ObjectCountHeapAnalyzer</a>.</p>

</div>
</div><p>
<a class="anchor" name="73ec51ba1ff821c68f6b7ada46d2728f"></a><!-- doxytag: member="coherence::lang::HeapAnalyzer::ensureHeap" ref="73ec51ba1ff821c68f6b7ada46d2728f" args="(Snapshot::View vSnap=NULL, int64_t cDelta=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html#9dff753690c2fde7f2096982681b2fe3">Snapshot::View</a> ensureHeap           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html#9dff753690c2fde7f2096982681b2fe3">Snapshot::View</a>&nbsp;</td>
          <td class="paramname"> <em>vSnap</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&nbsp;</td>
          <td class="paramname"> <em>cDelta</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Ensure that the delta between the current heap and the supplied snapshot is as expected. 
<p>
This method can be used to perform quick memory leak assertions.<p>
<div class="fragment"><pre class="fragment"> <a class="code" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html#9dff753690c2fde7f2096982681b2fe3" title="Snapshot View definition.">HeapAnalyzer::Snapshot::View</a> vSnapStart = <a class="code" href="classcoherence_1_1lang_1_1_heap_analyzer.html#73ec51ba1ff821c68f6b7ada46d2728f" title="Ensure that the delta between the current heap and the supplied snapshot is as expected...">HeapAnalyzer::ensureHeap</a>();
   ...
   ...
 <a class="code" href="classcoherence_1_1lang_1_1_heap_analyzer.html#73ec51ba1ff821c68f6b7ada46d2728f" title="Ensure that the delta between the current heap and the supplied snapshot is as expected...">HeapAnalyzer::ensureHeap</a>(vSnapStart);
</pre></div><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vSnap</em>&nbsp;</td><td>the snapshot to ensure; or NULL for return only </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cDelta</em>&nbsp;</td><td>the allowable change in the heap's object count</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a new <a class="el" href="classcoherence_1_1lang_1_1_heap_analyzer_1_1_snapshot.html" title="Snapshot provides a abstract mechanism for comparing successive heap analysis points...">Snapshot</a></dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classcoherence_1_1lang_1_1_illegal_state_exception.html" title="Signals that a function has been called at an illegal or inappropriate time.">IllegalStateException</a></em>&nbsp;</td><td>if the delta does not contain the expected amount. The text of the exception will include the output of the Snapshots <a class="el" href="classcoherence_1_1lang_1_1_object.html#893ed753a1b5374ef08f75bb59dd66d9" title="Output a human-readable description of this Object to the given stream.">toString()</a> method. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>coherence/lang/<a class="el" href="_heap_analyzer_8hpp-source.html">HeapAnalyzer.hpp</a></ul>
<center>
  Copyright &copy; 2000, 2020, Oracle and/or its affiliates.
  Licensed under the Universal Permissive License v 1.0 as shown at
  http://oss.oracle.com/licenses/upl.
</center>
</BODY>
</HTML>
