<!--
  Copyright (c) 2000, 2020, Oracle and/or its affiliates.

  Licensed under the Universal Permissive License v 1.0 as shown at
  http://oss.oracle.com/licenses/upl.
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>C++ API Reference for Oracle&amp;reg; Coherence Community Edition: WeakReference Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<b>C++ API Reference for Oracle&reg; Coherence Community Edition<br>(14.1.1.0.1)</b><br>F23533-01
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li class="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="namespacecoherence.html">coherence</a>::<a class="el" href="namespacecoherence_1_1lang.html">lang</a>::<a class="el" href="classcoherence_1_1lang_1_1_weak_reference.html">WeakReference</a></div>
<h1>WeakReference Class Reference</h1><!-- doxytag: class="coherence::lang::WeakReference" --><!-- doxytag: inherits="coherence::lang::Object,coherence::lang::Reference" --><code>#include &lt;<a class="el" href="_weak_reference_8hpp-source.html">coherence/lang/WeakReference.hpp</a>&gt;</code>
<p>
Inherits <a class="el" href="classcoherence_1_1lang_1_1_object.html">Object</a>, and <a class="el" href="classcoherence_1_1lang_1_1_reference.html">Reference</a>.
<p>

<p>
<a href="classcoherence_1_1lang_1_1_weak_reference-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
WeakReferences allow one <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a> to safely reference another without blocking it from being destroyed. 
<p>
WeakReferences are necessary when building <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a> graphs to avoid leaking the <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a> graph due to cyclical references.<p>
WeakReferences provide getter methods to safely obtain a normal Handle to the weakly referenced <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a> if it still exists. Once the <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a> becomes only weakly referenced its associated <a class="el" href="classcoherence_1_1lang_1_1_weak_reference.html" title="WeakReferences allow one Object to safely reference another without blocking it from...">WeakReference</a> will be automatically NULL'd out so that the <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a> may be reclaimed.<p>
Consider a simple case of an <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a> tree, where parent's reference their children, and children reference their parents. With normal reference counting handles, the tree would be leaked even once all external references to the tree have been dropped. To resolve this issue the tree could be constructed such that parents reference their children via normal Handles, but children reference their parents via WeakReferences. This way as long as the parent is externally referenced its entire sub-tree will be retained. Once all external Handles to the parent are dropped the entire tree will be reclaimed as only WeakReferences would hold it together.<p>
Similar to MemberHandles, WeakReferences transfer their constness to their referenced <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a>. That is if a View to a <a class="el" href="classcoherence_1_1lang_1_1_weak_reference.html" title="WeakReferences allow one Object to safely reference another without blocking it from...">WeakReference</a> is held then only the View to the referenced <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a> will be available.<p>
Do to the need to call the <a class="el" href="classcoherence_1_1lang_1_1_weak_reference.html#0cd9e86d9e95503b647d3ecdeb5c5092" title="Return a Holder to the referenced Object.">get()</a> which returns an <a class="el" href="classcoherence_1_1lang_1_1_object.html#9dff753690c2fde7f2096982681b2fe3" title="Object View definition.">Object::View</a> or Handle and then perform a cast, WeakReferences are somewhat cumbersome to make use of. <a class="el" href="classcoherence_1_1lang_1_1_weak_handle.html" title="WeakHandles are a TypedHandle like wrapper around WeakReferences.">WeakHandle</a> and <a class="el" href="classcoherence_1_1lang_1_1_weak_view.html" title="WeakViews are a TypedHandle like wrapper around WeakReferences.">WeakView</a> are <a class="el" href="classcoherence_1_1lang_1_1_typed_handle.html" title="Reference counting &quot;smart pointer&quot; class for use with Coherence managed...">TypedHandle</a> like wrappers for <a class="el" href="classcoherence_1_1lang_1_1_weak_reference.html" title="WeakReferences allow one Object to safely reference another without blocking it from...">WeakReference</a> which makes using WeakReferences much simpler. In most cases these should be used rather than direct use of WeakReferences.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classcoherence_1_1lang_1_1_weak_handle.html" title="WeakHandles are a TypedHandle like wrapper around WeakReferences.">WeakHandle</a> <p>
<a class="el" href="classcoherence_1_1lang_1_1_weak_view.html" title="WeakViews are a TypedHandle like wrapper around WeakReferences.">WeakView</a></dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>mf 2008.04.10 </dd></dl>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5b310f5b3b4a79c7cde67e22f5bfd543"></a><!-- doxytag: member="coherence::lang::WeakReference::Handle" ref="5b310f5b3b4a79c7cde67e22f5bfd543" args="" -->
typedef spec::Handle&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_weak_reference.html#5b310f5b3b4a79c7cde67e22f5bfd543">Handle</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classcoherence_1_1lang_1_1_weak_reference.html" title="WeakReferences allow one Object to safely reference another without blocking it from...">WeakReference</a> Handle definition. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9dff753690c2fde7f2096982681b2fe3"></a><!-- doxytag: member="coherence::lang::WeakReference::View" ref="9dff753690c2fde7f2096982681b2fe3" args="" -->
typedef spec::View&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_weak_reference.html#9dff753690c2fde7f2096982681b2fe3">View</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classcoherence_1_1lang_1_1_weak_reference.html" title="WeakReferences allow one Object to safely reference another without blocking it from...">WeakReference</a> View definition. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f6b6cf6ce7af189584f0d92db3187844"></a><!-- doxytag: member="coherence::lang::WeakReference::Holder" ref="f6b6cf6ce7af189584f0d92db3187844" args="" -->
typedef spec::Holder&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_weak_reference.html#f6b6cf6ce7af189584f0d92db3187844">Holder</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classcoherence_1_1lang_1_1_weak_reference.html" title="WeakReferences allow one Object to safely reference another without blocking it from...">WeakReference</a> Holder definition. <br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classcoherence_1_1lang_1_1_object.html#f6b6cf6ce7af189584f0d92db3187844">Object::Holder</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_weak_reference.html#177815401710f11d0943fc85117b283d">get</a> () const =0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a Holder, containing a View to the referenced <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a>.  <a href="#177815401710f11d0943fc85117b283d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classcoherence_1_1lang_1_1_object.html#f6b6cf6ce7af189584f0d92db3187844">Object::Holder</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoherence_1_1lang_1_1_weak_reference.html#0cd9e86d9e95503b647d3ecdeb5c5092">get</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a Holder to the referenced <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a>.  <a href="#0cd9e86d9e95503b647d3ecdeb5c5092"></a><br></td></tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="177815401710f11d0943fc85117b283d"></a><!-- doxytag: member="coherence::lang::WeakReference::get" ref="177815401710f11d0943fc85117b283d" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcoherence_1_1lang_1_1_object.html#f6b6cf6ce7af189584f0d92db3187844">Object::Holder</a> get           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a Holder, containing a View to the referenced <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a>. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a view to the referenced <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a> </dd></dl>

<p>Implements <a class="el" href="classcoherence_1_1lang_1_1_reference.html#177815401710f11d0943fc85117b283d">Reference</a>.</p>

</div>
</div><p>
<a class="anchor" name="0cd9e86d9e95503b647d3ecdeb5c5092"></a><!-- doxytag: member="coherence::lang::WeakReference::get" ref="0cd9e86d9e95503b647d3ecdeb5c5092" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcoherence_1_1lang_1_1_object.html#f6b6cf6ce7af189584f0d92db3187844">Object::Holder</a> get           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a Holder to the referenced <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a>. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a Handle unless the <a class="el" href="classcoherence_1_1lang_1_1_object.html" title="Object is the base class for all Coherence managed objects.">Object</a> has become solely refereed by Views. </dd></dl>

<p>Implements <a class="el" href="classcoherence_1_1lang_1_1_reference.html#0cd9e86d9e95503b647d3ecdeb5c5092">Reference</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>coherence/lang/<a class="el" href="_weak_reference_8hpp-source.html">WeakReference.hpp</a></ul>
<center>
  Copyright &copy; 2000, 2020, Oracle and/or its affiliates.
  Licensed under the Universal Permissive License v 1.0 as shown at
  http://oss.oracle.com/licenses/upl.
</center>
</BODY>
</HTML>
